{"ast":null,"code":"// import React, { useState } from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n// import ApiService from \"../../service/ApiService\";\n// import { useCart } from \"../context/CartContext\";\n// import '../../style/cart.css'\n\n// const CartPage = () => {\n//     const { cart, dispatch } = useCart();\n//     const [message, setMessage] = useState(null);\n//     const navigate = useNavigate();\n\n//     const incrementItem = (product) => {\n//         dispatch({ type: 'INCREMENT_ITEM', payload: product });\n//     }\n\n//     const decrementItem = (product) => {\n\n//         const cartItem = cart.find(item => item.id === product.id);\n//         if (cartItem && cartItem.quantity > 1) {\n//             dispatch({ type: 'DECREMENT_ITEM', payload: product });\n//         } else {\n//             dispatch({ type: 'REMOVE_ITEM', payload: product });\n//         }\n//     }\n\n//     const totalPrice = cart.reduce((total, item) => total + item.price * item.quantity, 0);\n\n//     const handleCheckout = async () => {\n//         if (!ApiService.isAuthenticated()) {\n//             setMessage(\"You need to login first before you can place an order\");\n//             setTimeout(() => {\n//                 setMessage('')\n//                 navigate(\"/login\")\n//             }, 3000);\n//             return;\n//         }\n\n//         const orderItems = cart.map(item => ({\n//             productId: item.id,\n//             quantity: item.quantity\n//         }));\n\n//         const orderRequest = {\n//             totalPrice,\n//             items: orderItems,\n//         }\n\n//         try {\n//             const response = await ApiService.createOrder(orderRequest);\n//             setMessage(response.message)\n\n//             setTimeout(() => {\n//                 setMessage('')\n//             }, 5000);\n\n//             if (response.status === 200) {\n//                 dispatch({ type: 'CLEAR_CART' })\n//             }\n\n//         } catch (error) {\n//             setMessage(error.response?.data?.message || error.message || 'Failed to place an order');\n//             setTimeout(() => {\n//                 setMessage('')\n//             }, 3000);\n\n//         }\n\n//     };\n\n//     return (\n//         <div className=\"cart-page\">\n//             <h1>Cart</h1>\n//             {message && <p className=\"response-message\">{message}</p>}\n\n//             {cart.length === 0 ? (\n//                 <p>Your cart is empty</p>\n//             ) : (\n//                 <div>\n//                     <ul>\n//                         {cart.map(item => (\n//                             <li key={item.id}>\n//                                 <img src={item.imageUrl} alt={item.name} />\n//                                 <div>\n//                                     <h2>{item.name}</h2>\n//                                     <p>{item.description}</p>\n//                                     <div className=\"quantity-controls\">\n//                                         <button onClick={()=> decrementItem(item)}>-</button>\n//                                         <span>{item.quantity}</span>\n//                                         <button onClick={()=> incrementItem(item)}>+</button>\n//                                     </div>\n//                                     <span>Rs.{item.price.toFixed()}</span>\n//                                 </div>\n//                             </li>\n//                         ))}\n//                     </ul>\n//                     <h2>Total: Rs.{totalPrice.toFixed(2)}</h2>\n//                     <button className=\"checkout-button\" onClick={handleCheckout}>Checkout</button>\n//                 </div>\n//             )}\n//         </div>\n//     )\n// }\n\n// export default CartPage;","map":{"version":3,"names":[],"sources":["C:/Users/Tejas Kolhe/Downloads/ecommerce/fashionflare/src/component/pages/CartPage.jsx"],"sourcesContent":["// import React, { useState } from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n// import ApiService from \"../../service/ApiService\";\n// import { useCart } from \"../context/CartContext\";\n// import '../../style/cart.css'\n\n// const CartPage = () => {\n//     const { cart, dispatch } = useCart();\n//     const [message, setMessage] = useState(null);\n//     const navigate = useNavigate();\n\n\n//     const incrementItem = (product) => {\n//         dispatch({ type: 'INCREMENT_ITEM', payload: product });\n//     }\n\n//     const decrementItem = (product) => {\n\n//         const cartItem = cart.find(item => item.id === product.id);\n//         if (cartItem && cartItem.quantity > 1) {\n//             dispatch({ type: 'DECREMENT_ITEM', payload: product });\n//         } else {\n//             dispatch({ type: 'REMOVE_ITEM', payload: product });\n//         }\n//     }\n\n//     const totalPrice = cart.reduce((total, item) => total + item.price * item.quantity, 0);\n\n\n\n//     const handleCheckout = async () => {\n//         if (!ApiService.isAuthenticated()) {\n//             setMessage(\"You need to login first before you can place an order\");\n//             setTimeout(() => {\n//                 setMessage('')\n//                 navigate(\"/login\")\n//             }, 3000);\n//             return;\n//         }\n\n//         const orderItems = cart.map(item => ({\n//             productId: item.id,\n//             quantity: item.quantity\n//         }));\n\n//         const orderRequest = {\n//             totalPrice,\n//             items: orderItems,\n//         }\n\n//         try {\n//             const response = await ApiService.createOrder(orderRequest);\n//             setMessage(response.message)\n\n//             setTimeout(() => {\n//                 setMessage('')\n//             }, 5000);\n\n//             if (response.status === 200) {\n//                 dispatch({ type: 'CLEAR_CART' })\n//             }\n\n//         } catch (error) {\n//             setMessage(error.response?.data?.message || error.message || 'Failed to place an order');\n//             setTimeout(() => {\n//                 setMessage('')\n//             }, 3000);\n\n//         }\n\n//     };\n\n\n//     return (\n//         <div className=\"cart-page\">\n//             <h1>Cart</h1>\n//             {message && <p className=\"response-message\">{message}</p>}\n\n//             {cart.length === 0 ? (\n//                 <p>Your cart is empty</p>\n//             ) : (\n//                 <div>\n//                     <ul>\n//                         {cart.map(item => (\n//                             <li key={item.id}>\n//                                 <img src={item.imageUrl} alt={item.name} />\n//                                 <div>\n//                                     <h2>{item.name}</h2>\n//                                     <p>{item.description}</p>\n//                                     <div className=\"quantity-controls\">\n//                                         <button onClick={()=> decrementItem(item)}>-</button>\n//                                         <span>{item.quantity}</span>\n//                                         <button onClick={()=> incrementItem(item)}>+</button>\n//                                     </div>\n//                                     <span>Rs.{item.price.toFixed()}</span>\n//                                 </div>\n//                             </li>\n//                         ))}\n//                     </ul>\n//                     <h2>Total: Rs.{totalPrice.toFixed(2)}</h2>\n//                     <button className=\"checkout-button\" onClick={handleCheckout}>Checkout</button>\n//                 </div>\n//             )}\n//         </div>\n//     )\n// }\n\n// export default CartPage;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}